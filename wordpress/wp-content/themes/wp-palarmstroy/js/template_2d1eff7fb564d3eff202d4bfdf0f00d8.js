var jshover=function(){var e=document.getElementById("horizontal-multilevel-menu");if(e)for(var t=e.getElementsByTagName("li"),a=0;a<t.length;a++)t[a].onmouseover=function(){this.className+=" jshover"},t[a].onmouseout=function(){this.className=this.className.replace(new RegExp(" jshover\\b"),"")}};window.attachEvent&&window.attachEvent("onload",jshover),function(e,t){"use strict";function a(e){var t=Array.prototype.slice.call(arguments,1);return e.prop?e.prop.apply(e,t):e.attr.apply(e,t)}function n(e,t,a){var n,r;for(n in a)a.hasOwnProperty(n)&&(r=n.replace(/ |$/g,t.eventNamespace),e.bind(r,a[n]))}function r(e,t,a){n(e,a,{focus:function(){t.addClass(a.focusClass)},blur:function(){t.removeClass(a.focusClass),t.removeClass(a.activeClass)},mouseenter:function(){t.addClass(a.hoverClass)},mouseleave:function(){t.removeClass(a.hoverClass),t.removeClass(a.activeClass)},"mousedown touchbegin":function(){e.is(":disabled")||t.addClass(a.activeClass)},"mouseup touchend":function(){t.removeClass(a.activeClass)}})}function i(e,t){e.removeClass(t.hoverClass+" "+t.focusClass+" "+t.activeClass)}function s(e,t,a){a?e.addClass(t):e.removeClass(t)}function o(e,t,a){var n="checked",r=t.is(":"+n);t.prop?t.prop(n,r):r?t.attr(n,n):t.removeAttr(n),s(e,a.checkedClass,r)}function u(e,t,a){s(e,a.disabledClass,t.is(":disabled"))}function l(e,t,a){switch(a){case"after":return e.after(t),e.next();case"before":return e.before(t),e.prev();case"wrap":return e.wrap(t),e.parent()}return null}function c(t,n,r){var i,s,o;return r||(r={}),r=e.extend({bind:{},divClass:null,divWrap:"wrap",spanClass:null,spanHtml:null,spanWrap:"wrap"},r),i=e("<div />"),s=e("<span />"),n.autoHide&&t.is(":hidden")&&"none"===t.css("display")&&i.hide(),r.divClass&&i.addClass(r.divClass),n.wrapperClass&&i.addClass(n.wrapperClass),r.spanClass&&s.addClass(r.spanClass),o=a(t,"id"),n.useID&&o&&a(i,"id",n.idPrefix+"-"+o),r.spanHtml&&s.html(r.spanHtml),i=l(t,i,r.divWrap),s=l(t,s,r.spanWrap),u(i,t,n),{div:i,span:s}}function f(t,a){var n;return a.wrapperClass?(n=e("<span />").addClass(a.wrapperClass),n=l(t,n,"wrap")):null}function d(){var t,a,n,r;return r="rgb(120,2,153)",a=e('<div style="width:0;height:0;color:'+r+'">'),e("body").append(a),n=a.get(0),t=window.getComputedStyle?window.getComputedStyle(n,"").color:(n.currentStyle||n.style||{}).color,a.remove(),t.replace(/ /g,"")!==r}function p(t){return t?e("<span />").text(t).html():""}function m(){return navigator.cpuClass&&!navigator.product}function h(){return void 0!==window.XMLHttpRequest?!0:!1}function v(e){var t;return e[0].multiple?!0:(t=a(e,"size"),!t||1>=t?!1:!0)}function g(){return!1}function b(e,t){var a="none";n(e,t,{"selectstart dragstart mousedown":g}),e.css({MozUserSelect:a,msUserSelect:a,webkitUserSelect:a,userSelect:a})}function y(e,t,a){var n=e.val();""===n?n=a.fileDefaultHtml:(n=n.split(/[\/\\]+/),n=n[n.length-1]),t.text(n)}function x(e,t,a){var n,r;for(n=[],e.each(function(){var e;for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n.push({el:this,name:e,old:this.style[e]}),this.style[e]=t[e])}),a();n.length;)r=n.pop(),r.el.style[r.name]=r.old}function C(e,t){var a;a=e.parents(),a.push(e[0]),a=a.not(":visible"),x(a,{visibility:"hidden",display:"block",position:"absolute"},t)}function w(e,t){return function(){e.unwrap().unwrap().unbind(t.eventNamespace)}}var k=!0,T=!1,S=[{match:function(e){return e.is("a, button, :submit, :reset, input[type='button']")},apply:function(e,t){var s,o,l,f,d;return o=t.submitDefaultHtml,e.is(":reset")&&(o=t.resetDefaultHtml),f=e.is("a, button")?function(){return e.html()||o}:function(){return p(a(e,"value"))||o},l=c(e,t,{divClass:t.buttonClass,spanHtml:f()}),s=l.div,r(e,s,t),d=!1,n(s,t,{"click touchend":function(){var t,n,r,i;d||e.is(":disabled")||(d=!0,e[0].dispatchEvent?(t=document.createEvent("MouseEvents"),t.initEvent("click",!0,!0),n=e[0].dispatchEvent(t),e.is("a")&&n&&(r=a(e,"target"),i=a(e,"href"),r&&"_self"!==r?window.open(i,r):document.location.href=i)):e.click(),d=!1)}}),b(s,t),{remove:function(){return s.after(e),s.remove(),e.unbind(t.eventNamespace),e},update:function(){i(s,t),u(s,e,t),e.detach(),l.span.html(f()).append(e)}}}},{match:function(e){return e.is(":checkbox")},apply:function(e,t){var a,s,l;return a=c(e,t,{divClass:t.checkboxClass}),s=a.div,l=a.span,r(e,s,t),n(e,t,{"click touchend":function(){o(l,e,t)}}),o(l,e,t),{remove:w(e,t),update:function(){i(s,t),l.removeClass(t.checkedClass),o(l,e,t),u(s,e,t)}}}},{match:function(e){return e.is(":file")},apply:function(t,s){function o(){y(t,p,s)}var f,d,p,h;return f=c(t,s,{divClass:s.fileClass,spanClass:s.fileButtonClass,spanHtml:s.fileButtonHtml,spanWrap:"after"}),d=f.div,h=f.span,p=e("<span />").html(s.fileDefaultHtml),p.addClass(s.filenameClass),p=l(t,p,"after"),a(t,"size")||a(t,"size",d.width()/10),r(t,d,s),o(),m()?n(t,s,{click:function(){t.trigger("change"),setTimeout(o,0)}}):n(t,s,{change:o}),b(p,s),b(h,s),{remove:function(){return p.remove(),h.remove(),t.unwrap().unbind(s.eventNamespace)},update:function(){i(d,s),y(t,p,s),u(d,t,s)}}}},{match:function(e){if(e.is("input")){var t=(" "+a(e,"type")+" ").toLowerCase(),n=" color date datetime datetime-local email month number password search tel text time url week ";return n.indexOf(t)>=0}return!1},apply:function(e,t){var n,i;return n=a(e,"type"),e.addClass(t.inputClass),i=f(e,t),r(e,e,t),t.inputAddTypeAsClass&&e.addClass(n),{remove:function(){e.removeClass(t.inputClass),t.inputAddTypeAsClass&&e.removeClass(n),i&&e.unwrap()},update:g}}},{match:function(e){return e.is(":radio")},apply:function(t,s){var l,f,d;return l=c(t,s,{divClass:s.radioClass}),f=l.div,d=l.span,r(t,f,s),n(t,s,{"click touchend":function(){e.uniform.update(e(':radio[name="'+a(t,"name")+'"]'))}}),o(d,t,s),{remove:w(t,s),update:function(){i(f,s),o(d,t,s),u(f,t,s)}}}},{match:function(e){return e.is("select")&&!v(e)?!0:!1},apply:function(t,a){var s,o,l,f;return a.selectAutoWidth&&C(t,function(){f=t.width()}),s=c(t,a,{divClass:a.selectClass,spanHtml:(t.find(":selected:first")||t.find("option:first")).html(),spanWrap:"before"}),o=s.div,l=s.span,a.selectAutoWidth?C(t,function(){x(e([l[0],o[0]]),{display:"block"},function(){var e;e=l.outerWidth()-l.width(),o.width(f+e),l.width(f)})}):o.addClass("fixedWidth"),r(t,o,a),n(t,a,{change:function(){l.html(t.find(":selected").html()),o.removeClass(a.activeClass)},"click touchend":function(){var e=t.find(":selected").html();l.html()!==e&&t.trigger("change")},keyup:function(){l.html(t.find(":selected").html())}}),b(l,a),{remove:function(){return l.remove(),t.unwrap().unbind(a.eventNamespace),t},update:function(){a.selectAutoWidth?(e.uniform.restore(t),t.uniform(a)):(i(o,a),l.html(t.find(":selected").html()),u(o,t,a))}}}},{match:function(e){return e.is("select")&&v(e)?!0:!1},apply:function(e,t){var a;return e.addClass(t.selectMultiClass),a=f(e,t),r(e,e,t),{remove:function(){e.removeClass(t.selectMultiClass),a&&e.unwrap()},update:g}}},{match:function(e){return e.is("textarea")},apply:function(e,t){var a;return e.addClass(t.textareaClass),a=f(e,t),r(e,e,t),{remove:function(){e.removeClass(t.textareaClass),a&&e.unwrap()},update:g}}}];m()&&!h()&&(k=!1),e.uniform={defaults:{activeClass:"active",autoHide:!0,buttonClass:"button",checkboxClass:"checker",checkedClass:"checked",disabledClass:"disabled",eventNamespace:".uniform",fileButtonClass:"action",fileButtonHtml:"�����...",fileClass:"uploader",fileDefaultHtml:"���� �� ������",filenameClass:"filename",focusClass:"focus",hoverClass:"hover",idPrefix:"uniform",inputAddTypeAsClass:!0,inputClass:"uniform-input",radioClass:"radio",resetDefaultHtml:"Reset",resetSelector:!1,selectAutoWidth:!0,selectClass:"selector",selectMultiClass:"uniform-multiselect",submitDefaultHtml:"Submit",textareaClass:"uniform",useID:!0,wrapperClass:null},elements:[]},e.fn.uniform=function(t){var a=this;return t=e.extend({},e.uniform.defaults,t),T||(T=!0,d()&&(k=!1)),k?(t.resetSelector&&e(t.resetSelector).mouseup(function(){window.setTimeout(function(){e.uniform.update(a)},10)}),this.each(function(){var a,n,r,i=e(this);if(i.data("uniformed"))return void e.uniform.update(i);for(a=0;S.length>a;a+=1)if(n=S[a],n.match(i,t))return r=n.apply(i,t),i.data("uniformed",r),void e.uniform.elements.push(i.get(0))})):this},e.uniform.restore=e.fn.uniform.restore=function(a){a===t&&(a=e.uniform.elements),e(a).each(function(){var t,a,n=e(this);a=n.data("uniformed"),a&&(a.remove(),t=e.inArray(this,e.uniform.elements),t>=0&&e.uniform.elements.splice(t,1),n.removeData("uniformed"))})},e.uniform.update=e.fn.uniform.update=function(a){a===t&&(a=e.uniform.elements),e(a).each(function(){var t,a=e(this);t=a.data("uniformed"),t&&t.update(a,t.options)})}}(jQuery),function(e){function t(){var e=document.createElement("input"),t="onpaste";return e.setAttribute(t,""),"function"==typeof e[t]?"paste":"input"}var a,n=t()+".mask",r=navigator.userAgent,i=/iphone/i.test(r),s=/android/i.test(r);e.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},dataName:"rawMaskFn",placeholder:"_"},e.fn.extend({caret:function(e,t){var a;return 0===this.length||this.is(":hidden")?void 0:"number"==typeof e?(t="number"==typeof t?t:e,this.each(function(){this.setSelectionRange?this.setSelectionRange(e,t):this.createTextRange&&(a=this.createTextRange(),a.collapse(!0),a.moveEnd("character",t),a.moveStart("character",e),a.select())})):(this[0].setSelectionRange?(e=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(a=document.selection.createRange(),e=0-a.duplicate().moveStart("character",-1e5),t=e+a.text.length),{begin:e,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(t,r){var o,u,l,c,f,d;return!t&&this.length>0?(o=e(this[0]),o.data(e.mask.dataName)()):(r=e.extend({placeholder:e.mask.placeholder,completed:null},r),u=e.mask.definitions,l=[],c=d=t.length,f=null,e.each(t.split(""),function(e,t){"?"==t?(d--,c=e):u[t]?(l.push(RegExp(u[t])),null===f&&(f=l.length-1)):l.push(null)}),this.trigger("unmask").each(function(){function o(e){for(;d>++e&&!l[e];);return e}function p(e){for(;--e>=0&&!l[e];);return e}function m(e,t){var a,n;if(!(0>e)){for(a=e,n=o(t);d>a;a++)if(l[a]){if(!(d>n&&l[a].test(w[n])))break;w[a]=w[n],w[n]=r.placeholder,n=o(n)}y(),C.caret(Math.max(f,e))}}function h(e){var t,a,n,i;for(t=e,a=r.placeholder;d>t;t++)if(l[t]){if(n=o(t),i=w[t],w[t]=a,!(d>n&&l[n].test(i)))break;a=i}}function v(e){var t,a,n,r=e.which;8===r||46===r||i&&127===r?(t=C.caret(),a=t.begin,n=t.end,0===n-a&&(a=46!==r?p(a):n=o(a-1),n=46===r?o(n):n),b(a,n),m(a,n-1),e.preventDefault()):27==r&&(C.val(k),C.caret(0,x()),e.preventDefault())}function g(t){var a,n,i,u=t.which,c=C.caret();t.ctrlKey||t.altKey||t.metaKey||32>u||u&&(0!==c.end-c.begin&&(b(c.begin,c.end),m(c.begin,c.end-1)),a=o(c.begin-1),d>a&&(n=String.fromCharCode(u),l[a].test(n)&&(h(a),w[a]=n,y(),i=o(a),s?setTimeout(e.proxy(e.fn.caret,C,i),0):C.caret(i),r.completed&&i>=d&&r.completed.call(C))),t.preventDefault())}function b(e,t){var a;for(a=e;t>a&&d>a;a++)l[a]&&(w[a]=r.placeholder)}function y(){C.val(w.join(""))}function x(e){var t,a,n=C.val(),i=-1;for(t=0,pos=0;d>t;t++)if(l[t]){for(w[t]=r.placeholder;pos++<n.length;)if(a=n.charAt(pos-1),l[t].test(a)){w[t]=a,i=t;break}if(pos>n.length)break}else w[t]===n.charAt(pos)&&t!==c&&(pos++,i=t);return e?y():c>i+1?(C.val(""),b(0,d)):(y(),C.val(C.val().substring(0,i+1))),c?t:f}var C=e(this),w=e.map(t.split(""),function(e){return"?"!=e?u[e]?r.placeholder:e:void 0}),k=C.val();C.data(e.mask.dataName,function(){return e.map(w,function(e,t){return l[t]&&e!=r.placeholder?e:null}).join("")}),C.attr("readonly")||C.one("unmask",function(){C.unbind(".mask").removeData(e.mask.dataName)}).bind("focus.mask",function(){clearTimeout(a);var e;k=C.val(),e=x(),a=setTimeout(function(){y(),e==t.length?C.caret(0,e):C.caret(e)},10)}).bind("blur.mask",function(){x(),C.val()!=k&&C.change()}).bind("keydown.mask",v).bind("keypress.mask",g).bind(n,function(){setTimeout(function(){var e=x(!0);C.caret(e),r.completed&&e==C.val().length&&r.completed.call(C)},0)}),x()}))}})}(jQuery),!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e("undefined"!=typeof jQuery?jQuery:window.Zepto)}(function(e){"use strict";function t(t){var a=t.data;t.isDefaultPrevented()||(t.preventDefault(),e(t.target).ajaxSubmit(a))}function a(t){var a=t.target,n=e(a);if(!n.is("[type=submit],[type=image]")){var r=n.closest("[type=submit]");if(0===r.length)return;a=r[0]}var i=this;if(i.clk=a,"image"==a.type)if(void 0!==t.offsetX)i.clk_x=t.offsetX,i.clk_y=t.offsetY;else if("function"==typeof e.fn.offset){var s=n.offset();i.clk_x=t.pageX-s.left,i.clk_y=t.pageY-s.top}else i.clk_x=t.pageX-a.offsetLeft,i.clk_y=t.pageY-a.offsetTop;setTimeout(function(){i.clk=i.clk_x=i.clk_y=null},100)}function n(){if(e.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}var r={};r.fileapi=void 0!==e("<input type='file'/>").get(0).files,r.formdata=void 0!==window.FormData;var i=!!e.fn.prop;e.fn.attr2=function(){if(!i)return this.attr.apply(this,arguments);var e=this.prop.apply(this,arguments);return e&&e.jquery||"string"==typeof e?e:this.attr.apply(this,arguments)},e.fn.ajaxSubmit=function(t){function a(a){var n,r,i=e.param(a,t.traditional).split("&"),s=i.length,o=[];for(n=0;s>n;n++)i[n]=i[n].replace(/\+/g," "),r=i[n].split("="),o.push([decodeURIComponent(r[0]),decodeURIComponent(r[1])]);return o}function s(n){for(var r=new FormData,i=0;i<n.length;i++)r.append(n[i].name,n[i].value);if(t.extraData){var s=a(t.extraData);for(i=0;i<s.length;i++)s[i]&&r.append(s[i][0],s[i][1])}t.data=null;var o=e.extend(!0,{},e.ajaxSettings,t,{contentType:!1,processData:!1,cache:!1,type:u||"POST"});t.uploadProgress&&(o.xhr=function(){var a=e.ajaxSettings.xhr();return a.upload&&a.upload.addEventListener("progress",function(e){var a=0,n=e.loaded||e.position,r=e.total;e.lengthComputable&&(a=Math.ceil(n/r*100)),t.uploadProgress(e,n,r,a)},!1),a}),o.data=null;var l=o.beforeSend;return o.beforeSend=function(e,a){a.data=t.formData?t.formData:r,l&&l.call(this,e,a)},e.ajax(o)}function o(a){function r(e){var t=null;try{e.contentWindow&&(t=e.contentWindow.document)}catch(a){n("cannot get iframe.contentWindow document: "+a)}if(t)return t;try{t=e.contentDocument?e.contentDocument:e.document}catch(a){n("cannot get iframe.contentDocument: "+a),t=e.document}return t}function s(){function t(){try{var e=r(g).readyState;n("state = "+e),e&&"uninitialized"==e.toLowerCase()&&setTimeout(t,50)}catch(a){n("Server abort: ",a," (",a.name,")"),o(A),w&&clearTimeout(w),w=void 0}}var a=f.attr2("target"),i=f.attr2("action"),s="multipart/form-data",l=f.attr("enctype")||f.attr("encoding")||s;k.setAttribute("target",m),(!u||/post/i.test(u))&&k.setAttribute("method","POST"),i!=d.url&&k.setAttribute("action",d.url),d.skipEncodingOverride||u&&!/post/i.test(u)||f.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),d.timeout&&(w=setTimeout(function(){C=!0,o(S)},d.timeout));var c=[];try{if(d.extraData)for(var p in d.extraData)d.extraData.hasOwnProperty(p)&&c.push(e.isPlainObject(d.extraData[p])&&d.extraData[p].hasOwnProperty("name")&&d.extraData[p].hasOwnProperty("value")?e('<input type="hidden" name="'+d.extraData[p].name+'">').val(d.extraData[p].value).appendTo(k)[0]:e('<input type="hidden" name="'+p+'">').val(d.extraData[p]).appendTo(k)[0]);d.iframeTarget||v.appendTo("body"),g.attachEvent?g.attachEvent("onload",o):g.addEventListener("load",o,!1),setTimeout(t,15);try{k.submit()}catch(h){var b=document.createElement("form").submit;b.apply(k)}}finally{k.setAttribute("action",i),k.setAttribute("enctype",l),a?k.setAttribute("target",a):f.removeAttr("target"),e(c).remove()}}function o(t){if(!b.aborted&&!H){if(M=r(g),M||(n("cannot access response document"),t=A),t===S&&b)return b.abort("timeout"),void T.reject(b,"timeout");if(t==A&&b)return b.abort("server abort"),void T.reject(b,"error","server abort");if(M&&M.location.href!=d.iframeSrc||C){g.detachEvent?g.detachEvent("onload",o):g.removeEventListener("load",o,!1);var a,i="success";try{if(C)throw"timeout";var s="xml"==d.dataType||M.XMLDocument||e.isXMLDoc(M);if(n("isXml="+s),!s&&window.opera&&(null===M.body||!M.body.innerHTML)&&--N)return n("requeing onLoad callback, DOM not available"),void setTimeout(o,250);var u=M.body?M.body:M.documentElement;b.responseText=u?u.innerHTML:null,b.responseXML=M.XMLDocument?M.XMLDocument:M,s&&(d.dataType="xml"),b.getResponseHeader=function(e){var t={"content-type":d.dataType};return t[e.toLowerCase()]},u&&(b.status=Number(u.getAttribute("status"))||b.status,b.statusText=u.getAttribute("statusText")||b.statusText);var l=(d.dataType||"").toLowerCase(),c=/(json|script|text)/.test(l);if(c||d.textarea){var f=M.getElementsByTagName("textarea")[0];if(f)b.responseText=f.value,b.status=Number(f.getAttribute("status"))||b.status,b.statusText=f.getAttribute("statusText")||b.statusText;else if(c){var m=M.getElementsByTagName("pre")[0],h=M.getElementsByTagName("body")[0];m?b.responseText=m.textContent?m.textContent:m.innerText:h&&(b.responseText=h.textContent?h.textContent:h.innerText)}}else"xml"==l&&!b.responseXML&&b.responseText&&(b.responseXML=_(b.responseText));try{D=O(b,l,d)}catch(y){i="parsererror",b.error=a=y||i}}catch(y){n("error caught: ",y),i="error",b.error=a=y||i}b.aborted&&(n("upload aborted"),i=null),b.status&&(i=b.status>=200&&b.status<300||304===b.status?"success":"error"),"success"===i?(d.success&&d.success.call(d.context,D,"success",b),T.resolve(b.responseText,"success",b),p&&e.event.trigger("ajaxSuccess",[b,d])):i&&(void 0===a&&(a=b.statusText),d.error&&d.error.call(d.context,b,i,a),T.reject(b,"error",a),p&&e.event.trigger("ajaxError",[b,d,a])),p&&e.event.trigger("ajaxComplete",[b,d]),p&&!--e.active&&e.event.trigger("ajaxStop"),d.complete&&d.complete.call(d.context,b,i),H=!0,d.timeout&&clearTimeout(w),setTimeout(function(){d.iframeTarget?v.attr("src",d.iframeSrc):v.remove(),b.responseXML=null},100)}}}var l,c,d,p,m,v,g,b,y,x,C,w,k=f[0],T=e.Deferred();if(T.abort=function(e){b.abort(e)},a)for(c=0;c<h.length;c++)l=e(h[c]),i?l.prop("disabled",!1):l.removeAttr("disabled");if(d=e.extend(!0,{},e.ajaxSettings,t),d.context=d.context||d,m="jqFormIO"+(new Date).getTime(),d.iframeTarget?(v=e(d.iframeTarget),x=v.attr2("name"),x?m=x:v.attr2("name",m)):(v=e('<iframe name="'+m+'" src="'+d.iframeSrc+'" />'),v.css({position:"absolute",top:"-1000px",left:"-1000px"})),g=v[0],b={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(t){var a="timeout"===t?"timeout":"aborted";n("aborting upload... "+a),this.aborted=1;try{g.contentWindow.document.execCommand&&g.contentWindow.document.execCommand("Stop")}catch(r){}v.attr("src",d.iframeSrc),b.error=a,d.error&&d.error.call(d.context,b,a,t),p&&e.event.trigger("ajaxError",[b,d,a]),d.complete&&d.complete.call(d.context,b,a)}},p=d.global,p&&0===e.active++&&e.event.trigger("ajaxStart"),p&&e.event.trigger("ajaxSend",[b,d]),d.beforeSend&&d.beforeSend.call(d.context,b,d)===!1)return d.global&&e.active--,T.reject(),T;if(b.aborted)return T.reject(),T;y=k.clk,y&&(x=y.name,x&&!y.disabled&&(d.extraData=d.extraData||{},d.extraData[x]=y.value,"image"==y.type&&(d.extraData[x+".x"]=k.clk_x,d.extraData[x+".y"]=k.clk_y)));var S=1,A=2,E=e("meta[name=csrf-token]").attr("content"),j=e("meta[name=csrf-param]").attr("content");j&&E&&(d.extraData=d.extraData||{},d.extraData[j]=E),d.forceSync?s():setTimeout(s,10);var D,M,H,N=50,_=e.parseXML||function(e,t){return window.ActiveXObject?(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!=t.documentElement.nodeName?t:null},L=e.parseJSON||function(e){return window.eval("("+e+")")},O=function(t,a,n){var r=t.getResponseHeader("content-type")||"",i="xml"===a||!a&&r.indexOf("xml")>=0,s=i?t.responseXML:t.responseText;return i&&"parsererror"===s.documentElement.nodeName&&e.error&&e.error("parsererror"),n&&n.dataFilter&&(s=n.dataFilter(s,a)),"string"==typeof s&&("json"===a||!a&&r.indexOf("json")>=0?s=L(s):("script"===a||!a&&r.indexOf("javascript")>=0)&&e.globalEval(s)),s};return T}if(!this.length)return n("ajaxSubmit: skipping submit process - no element selected"),this;var u,l,c,f=this;"function"==typeof t?t={success:t}:void 0===t&&(t={}),u=t.type||this.attr2("method"),l=t.url||this.attr2("action"),c="string"==typeof l?e.trim(l):"",c=c||window.location.href||"",c&&(c=(c.match(/^([^#]+)/)||[])[1]),t=e.extend(!0,{url:c,success:e.ajaxSettings.success,type:u||e.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},t);var d={};if(this.trigger("form-pre-serialize",[this,t,d]),d.veto)return n("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(t.beforeSerialize&&t.beforeSerialize(this,t)===!1)return n("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var p=t.traditional;void 0===p&&(p=e.ajaxSettings.traditional);var m,h=[],v=this.formToArray(t.semantic,h);if(t.data&&(t.extraData=t.data,m=e.param(t.data,p)),t.beforeSubmit&&t.beforeSubmit(v,this,t)===!1)return n("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[v,this,t,d]),d.veto)return n("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var g=e.param(v,p);m&&(g=g?g+"&"+m:m),"GET"==t.type.toUpperCase()?(t.url+=(t.url.indexOf("?")>=0?"&":"?")+g,t.data=null):t.data=g;var b=[];if(t.resetForm&&b.push(function(){f.resetForm()}),t.clearForm&&b.push(function(){f.clearForm(t.includeHidden)}),!t.dataType&&t.target){var y=t.success||function(){};b.push(function(a){var n=t.replaceTarget?"replaceWith":"html";e(t.target)[n](a).each(y,arguments)})}else t.success&&b.push(t.success);if(t.success=function(e,a,n){for(var r=t.context||this,i=0,s=b.length;s>i;i++)b[i].apply(r,[e,a,n||f,f])},t.error){var x=t.error;t.error=function(e,a,n){var r=t.context||this;x.apply(r,[e,a,n,f])}}if(t.complete){var C=t.complete;t.complete=function(e,a){var n=t.context||this;C.apply(n,[e,a,f])}}var w=e("input[type=file]:enabled",this).filter(function(){return""!==e(this).val()}),k=w.length>0,T="multipart/form-data",S=f.attr("enctype")==T||f.attr("encoding")==T,A=r.fileapi&&r.formdata;n("fileAPI :"+A);var E,j=(k||S)&&!A;t.iframe!==!1&&(t.iframe||j)?t.closeKeepAlive?e.get(t.closeKeepAlive,function(){E=o(v)}):E=o(v):E=(k||S)&&A?s(v):e.ajax(t),f.removeData("jqxhr").data("jqxhr",E);for(var D=0;D<h.length;D++)h[D]=null;return this.trigger("form-submit-notify",[this,t]),this},e.fn.ajaxForm=function(r){if(r=r||{},r.delegation=r.delegation&&e.isFunction(e.fn.on),!r.delegation&&0===this.length){var i={s:this.selector,c:this.context};return!e.isReady&&i.s?(n("DOM not ready, queuing ajaxForm"),e(function(){e(i.s,i.c).ajaxForm(r)}),this):(n("terminating; zero elements found by selector"+(e.isReady?"":" (DOM not ready)")),this)}return r.delegation?(e(document).off("submit.form-plugin",this.selector,t).off("click.form-plugin",this.selector,a).on("submit.form-plugin",this.selector,r,t).on("click.form-plugin",this.selector,r,a),this):this.ajaxFormUnbind().bind("submit.form-plugin",r,t).bind("click.form-plugin",r,a)},e.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},e.fn.formToArray=function(t,a){var n=[];if(0===this.length)return n;var i,s=this[0],o=this.attr("id"),u=t?s.getElementsByTagName("*"):s.elements;if(u&&!/MSIE 8/.test(navigator.userAgent)&&(u=e(u).get()),o&&(i=e(":input[form="+o+"]").get(),i.length&&(u=(u||[]).concat(i))),!u||!u.length)return n;var l,c,f,d,p,m,h;for(l=0,m=u.length;m>l;l++)if(p=u[l],f=p.name,f&&!p.disabled)if(t&&s.clk&&"image"==p.type)s.clk==p&&(n.push({name:f,value:e(p).val(),type:p.type}),n.push({name:f+".x",value:s.clk_x},{name:f+".y",value:s.clk_y}));else if(d=e.fieldValue(p,!0),d&&d.constructor==Array)for(a&&a.push(p),c=0,h=d.length;h>c;c++)n.push({name:f,value:d[c]});else if(r.fileapi&&"file"==p.type){a&&a.push(p);var v=p.files;if(v.length)for(c=0;c<v.length;c++)n.push({name:f,value:v[c],type:p.type});else n.push({name:f,value:"",type:p.type})}else null!==d&&"undefined"!=typeof d&&(a&&a.push(p),n.push({name:f,value:d,type:p.type,required:p.required}));if(!t&&s.clk){var g=e(s.clk),b=g[0];f=b.name,f&&!b.disabled&&"image"==b.type&&(n.push({name:f,value:g.val()}),n.push({name:f+".x",value:s.clk_x},{name:f+".y",value:s.clk_y}))}return n},e.fn.formSerialize=function(t){return e.param(this.formToArray(t))},e.fn.fieldSerialize=function(t){var a=[];return this.each(function(){var n=this.name;if(n){var r=e.fieldValue(this,t);if(r&&r.constructor==Array)for(var i=0,s=r.length;s>i;i++)a.push({name:n,value:r[i]});else null!==r&&"undefined"!=typeof r&&a.push({name:this.name,value:r})}}),e.param(a)},e.fn.fieldValue=function(t){for(var a=[],n=0,r=this.length;r>n;n++){var i=this[n],s=e.fieldValue(i,t);null===s||"undefined"==typeof s||s.constructor==Array&&!s.length||(s.constructor==Array?e.merge(a,s):a.push(s))}return a},e.fieldValue=function(t,a){var n=t.name,r=t.type,i=t.tagName.toLowerCase();if(void 0===a&&(a=!0),a&&(!n||t.disabled||"reset"==r||"button"==r||("checkbox"==r||"radio"==r)&&!t.checked||("submit"==r||"image"==r)&&t.form&&t.form.clk!=t||"select"==i&&-1==t.selectedIndex))return null;if("select"==i){var s=t.selectedIndex;if(0>s)return null;for(var o=[],u=t.options,l="select-one"==r,c=l?s+1:u.length,f=l?s:0;c>f;f++){var d=u[f];if(d.selected){var p=d.value;if(p||(p=d.attributes&&d.attributes.value&&!d.attributes.value.specified?d.text:d.value),l)return p;o.push(p)}}return o}return e(t).val()},e.fn.clearForm=function(t){return this.each(function(){e("input,select,textarea",this).clearFields(t)})},e.fn.clearFields=e.fn.clearInputs=function(t){var a=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var n=this.type,r=this.tagName.toLowerCase();a.test(n)||"textarea"==r?this.value="":"checkbox"==n||"radio"==n?this.checked=!1:"select"==r?this.selectedIndex=-1:"file"==n?/MSIE/.test(navigator.userAgent)?e(this).replaceWith(e(this).clone(!0)):e(this).val(""):t&&(t===!0&&/hidden/.test(n)||"string"==typeof t&&e(this).is(t))&&(this.value="")})},e.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},e.fn.enable=function(e){return void 0===e&&(e=!0),this.each(function(){this.disabled=!e})},e.fn.selected=function(t){return void 0===t&&(t=!0),this.each(function(){var a=this.type;if("checkbox"==a||"radio"==a)this.checked=t;else if("option"==this.tagName.toLowerCase()){var n=e(this).parent("select");t&&n[0]&&"select-one"==n[0].type&&n.find("option").selected(!1),this.selected=t}})},e.fn.ajaxSubmit.debug=!1}),$(document).ready(function(){$(".unif-form .field[data-mask]").each(function(){$(this).find("input, select, textarea").mask($(this).attr("data-mask"))}),$(".unif-form .new-captcha").click(function(){var e=$(this).parents(".unif-form");return $.getJSON("/bitrix/components/nsandrey/mailform/ajax.php",{REQUEST_TYPE:"NEW_CAPTCHA"}).done(function(t){"NEW_CAPTCHA"==t.TYPE&&(e.find("#captcha input[type=text]").val(""),e.find("#captcha input[name=CAPTCHA_SID]").val(t.NEW_CAPTCHA),e.find("#captcha img").attr("src","/bitrix/tools/captcha.php?captcha_sid="+t.NEW_CAPTCHA))}),!1}),$(".unif-form").ajaxForm({dataType:"json",success:function(t,a,n,r){var i=$("#"+t.FORM_ID);if(i.find(".field").removeClass("error").find(".errors").html(""),"ERRORS"==t.TYPE){for(var s in t.MESSAGES){var o=unifMessages[t.MESSAGES[s].FIELD_TYPE+"_"+t.MESSAGES[s].ERROR_TYPE];i.find("#"+s.toLowerCase()).addClass("error").find(".errors").html(o)}i.find("#captcha input[type=text]").val(""),i.find("#captcha input[name=CAPTCHA_SID]").val(t.MESSAGES.NEW_CAPTCHA),i.find("#captcha img").attr("src","/bitrix/tools/captcha.php?captcha_sid="+t.MESSAGES.NEW_CAPTCHA)}else"OK"==t.TYPE&&(i.find(".new-captcha").trigger("click"),i.resetForm(),i.find(".uploader .filename").html(e[i.attr("id")]),i.find(".success").fadeIn(250),setTimeout(function(){i.find(".success").fadeOut(250)},1e4))}}),$(".unif-form input:not([type=submit]), .unif-form select, .unif-form textarea").uniform();var e={};$(".unif-form").each(function(){e[$(this).attr("id")]=$(this).find(".uploader .filename").html()})});